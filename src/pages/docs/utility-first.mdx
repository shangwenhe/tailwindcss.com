---
title: Utility-First Fundamentals
description: 从一组受约束的基本实用程序构建复杂组件。
---

import { Heading } from '@/components/Heading'
import { TipGood, TipBad } from '@/components/Tip'

---

## <Heading hidden>Overview</Heading>

传统上，每当你需要在网络上设计样式时，你都会编写CSS。

<TipBad>使用传统方法，其中自定义设计需要自定义CSS</TipBad>

```html {{ example: true }}
<div class="flex items-center max-w-sm p-6 mx-auto space-x-4 bg-white shadow-lg rounded-xl">
  <div class="shrink-0">
    <svg class="w-12 h-12" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a"><stop stop-color="#2397B3" offset="0%"/><stop stop-color="#13577E" offset="100%"/></linearGradient><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b"><stop stop-color="#73DFF2" offset="0%"/><stop stop-color="#47B1EB" offset="100%"/></linearGradient></defs><g fill="none" fill-rule="evenodd"><path d="M28.872 22.096c.084.622.128 1.258.128 1.904 0 7.732-6.268 14-14 14-2.176 0-4.236-.496-6.073-1.382l-6.022 2.007c-1.564.521-3.051-.966-2.53-2.53l2.007-6.022A13.944 13.944 0 0 1 1 24c0-7.331 5.635-13.346 12.81-13.95A9.967 9.967 0 0 0 13 14c0 5.523 4.477 10 10 10a9.955 9.955 0 0 0 5.872-1.904z" fill="url(#a)" transform="translate(1 1)"/><path d="M35.618 20.073l2.007 6.022c.521 1.564-.966 3.051-2.53 2.53l-6.022-2.007A13.944 13.944 0 0 1 23 28c-7.732 0-14-6.268-14-14S15.268 0 23 0s14 6.268 14 14c0 2.176-.496 4.236-1.382 6.073z" fill="url(#b)" transform="translate(1 1)"/><path d="M18 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4zM24 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4zM30 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="#FFF"/></g></svg>
  </div>
  <div>
    <div class="text-xl font-medium text-black">ChitChat</div>
    <p class="text-slate-500">You have a new message!</p>
  </div>
</div>
```

```html
<div class="chat-notification">
  <div class="chat-notification-logo-wrapper">
    <img class="chat-notification-logo" src="/img/logo.svg" alt="ChitChat Logo">
  </div>
  <div class="chat-notification-content">
    <h4 class="chat-notification-title">ChitChat</h4>
    <p class="chat-notification-message">You have a new message!</p>
  </div>
</div>

<style>
  .chat-notification {
    display: flex;
    align-items: center;
    max-width: 24rem;
    margin: 0 auto;
    padding: 1.5rem;
    border-radius: 0.5rem;
    background-color: #fff;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
  .chat-notification-logo-wrapper {
    flex-shrink: 0;
  }
  .chat-notification-logo {
    height: 3rem;
    width: 3rem;
  }
  .chat-notification-content {
    margin-left: 1.5rem;
  }
  .chat-notification-title {
    color: #1a202c;
    font-size: 1.25rem;
    line-height: 1.25;
  }
  .chat-notification-message {
    color: #718096;
    font-size: 1rem;
    line-height: 1.5;
  }
</style>
```

使用Tailwind，您可以通过在HTML中直接应用预先存在的类来设置元素样式。

<TipGood>使用实用程序类构建自定义设计，而无需编写CSS</TipGood>

```html {{ example: true }}
<div class="flex items-center max-w-sm p-6 mx-auto space-x-4 bg-white shadow-lg rounded-xl">
  <div class="shrink-0">
    <svg class="size-12" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a"><stop stop-color="#2397B3" offset="0%"/><stop stop-color="#13577E" offset="100%"/></linearGradient><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b"><stop stop-color="#73DFF2" offset="0%"/><stop stop-color="#47B1EB" offset="100%"/></linearGradient></defs><g fill="none" fill-rule="evenodd"><path d="M28.872 22.096c.084.622.128 1.258.128 1.904 0 7.732-6.268 14-14 14-2.176 0-4.236-.496-6.073-1.382l-6.022 2.007c-1.564.521-3.051-.966-2.53-2.53l2.007-6.022A13.944 13.944 0 0 1 1 24c0-7.331 5.635-13.346 12.81-13.95A9.967 9.967 0 0 0 13 14c0 5.523 4.477 10 10 10a9.955 9.955 0 0 0 5.872-1.904z" fill="url(#a)" transform="translate(1 1)"/><path d="M35.618 20.073l2.007 6.022c.521 1.564-.966 3.051-2.53 2.53l-6.022-2.007A13.944 13.944 0 0 1 23 28c-7.732 0-14-6.268-14-14S15.268 0 23 0s14 6.268 14 14c0 2.176-.496 4.236-1.382 6.073z" fill="url(#b)" transform="translate(1 1)"/><path d="M18 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4zM24 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4zM30 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="#FFF"/></g></svg>
  </div>
  <div>
    <div class="text-xl font-medium text-black">ChitChat</div>
    <p class="text-slate-500">You have a new message!</p>
  </div>
</div>
```

```html
<div class="flex items-center max-w-sm p-6 mx-auto space-x-4 bg-white shadow-lg rounded-xl">
  <div class="shrink-0">
    <img class="size-12" src="/img/logo.svg" alt="ChitChat Logo">
  </div>
  <div>
    <div class="text-xl font-medium text-black">ChitChat</div>
    <p class="text-slate-500">You have a new message!</p>
  </div>
</div>
```

在上面的例子中，我们使用了:

- Tailwind的[flexbox]（/docs/display#flex）和[padding]（/docs/padding）实用程序（“flex”、“shrink-0”和“p-6”），用于控制整体卡布局
- 最大宽度和边距实用程序（max-w-sm和mx-auto）用于约束卡片宽度并将其水平居中
- 用于设置卡片外观样式的背景颜色、边框半径和方框阴影实用程序（bg白色、圆角xl和阴影lg）
- 用于设置徽标图像宽度和高度的尺寸实用程序（size-12）
- 实用程序之间的间距（space-x-4），用于处理徽标和文本之间的间距
- 用于设置卡片文本样式的字体大小、文本颜色和字体粗细实用程序（文本xl、文本黑色、字体中等等）

这种方法允许我们实现完全自定义的组件设计，而无需编写一行自定义CSS。

现在我知道你在想什么，“这是一场暴行，多么可怕的混乱！”你说得对，这有点丑陋。事实上，当你第一次看到它时，你几乎不可能认为这是一个好主意——你必须真正尝试一下。

但是，一旦你真正以这种方式构建了一些东西，你很快就会注意到一些非常重要的好处：

- **你没有浪费精力发明类名**。不再仅仅为了设计样式而添加像“侧边栏内部包装器”这样愚蠢的类名，也不再为真正只是一个柔性容器的东西的完美抽象名称而苦恼。
- **你的CSS停止增长**。使用传统方法，每次添加新功能时，CSS文件都会变大。有了实用程序，一切都是可重用的，所以你很少需要编写新的CSS。
- **做出改变感觉更安全**。CSS是全球性的，当你做出更改时，你永远不知道你会破坏什么。HTML中的类是本地的，因此您可以更改它们，而不必担心其他东西会损坏。


当你意识到只使用预定义的实用程序类在HTML中工作是多么高效时，以任何其他方式工作都会感觉像是折磨。

---

## 为什么不直接使用内联样式？

对这种方法的一个常见反应是想知道，“这不是内联样式吗？”在某些方面是这样的——你直接将样式应用于元素，而不是为它们分配类名，然后对该类进行样式设置。

但是，与内联样式相比，使用实用类有一些重要的优势：

- **使用约束进行设计**。使用内联样式，每个值都是一个神奇的数字。使用实用程序，您可以从预定义的[设计系统]（/docs/theme）中选择样式，这使得构建视觉一致的UI变得更加容易。
- **响应式设计**。你不能在内联样式中使用媒体查询，但你可以使用Tailwind的[响应式实用程序]（/docs/response design）轻松构建完全响应的界面。
- **悬停、聚焦和其他状态**。内联样式不能针对悬停或聚焦等状态，但Tailwind的[状态变量]（/docs/hover-focus和其他状态）使使用实用程序类对这些状态进行样式设置变得容易。

该组件完全响应，包括一个具有悬停和聚焦样式的按钮，并且完全由实用程序类构建：

```html {{ example: true }}
<div class="max-w-sm px-8 py-8 mx-auto space-y-2 bg-white shadow-lg rounded-xl sm:flex sm:items-center sm:space-y-0 sm:space-x-6 sm:py-4">
  <img class="block h-24 mx-auto rounded-full sm:mx-0 sm:shrink-0" src="/img/erin-lindford.jpg" alt="Woman's Face" />
  <div class="space-y-2 text-center sm:text-left">
    <div class="space-y-0.5">
      <p class="text-lg font-semibold text-black">
        Erin Lindford
      </p>
      <p class="font-medium text-slate-500">
        Product Engineer
      </p>
    </div>
    <button class="px-4 py-1 text-sm font-semibold text-purple-600 border border-purple-200 rounded-full hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">Message</button>
  </div>
</div>
```

```html
<div class="py-8 px-8 max-w-sm mx-auto bg-white rounded-xl shadow-lg space-y-2 **sm:py-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-6**">
  <img class="block mx-auto h-24 rounded-full **sm:mx-0 sm:shrink-0**" src="/img/erin-lindford.jpg" alt="Woman's Face" />
  <div class="text-center space-y-2 **sm:text-left**">
    <div class="space-y-0.5">
      <p class="text-lg font-semibold text-black">
        Erin Lindford
      </p>
      <p class="font-medium text-slate-500">
        Product Engineer
      </p>
    </div>
    <button class="px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-200 **hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2**">Message</button>
  </div>
</div>
```

---

## 可维护性问题

使用实用程序优先方法时，最大的可维护性问题是管理通常重复的实用程序组合。

这很容易通过[提取组件和部分]（/docs/reused styles#提取组件和局部）和使用[编辑器和语言功能]（/docs/重用styles#使用编辑器和语言特性）来解决，如多光标编辑和简单循环。

```html
<!-- PrimaryButton.vue -->
<template>
  <button class="px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700">
    <slot/>
  </button>
</template>
```

除此之外，维护一个实用程序优先的CSS项目比维护一个大型CSS代码库要容易得多，因为HTML比CSS更容易维护。GitHub、Netflix、Heroku、Kickstarter、Twitch、Segment等大公司正在使用这种方法并取得巨大成功。

如果你想了解其他人使用这种方法的经验，请查看以下资源：

- [数字：一年半的原子CSS](https://medium.com/@johnpolacek/by-the-numbers-a-year-and-half-with-atomic-css-39d75b1263b4) by John Polacek
- [不，实用程序类与内联样式不同](https://frontstuff.io/no-utility-classes-arent-the-same-as-inline-styles) by Sarah Dayan of Algolia
- [Diana Mounter在GitHub上使用实用程序类](http://www.fullstackradio.com/75), a podcast interview

更多信息，请查看[原子/实用程序优先CSS案例](https://johnpolacek.github.io/the-case-for-atomic-css/), curated by [John Polacek](https://twitter.com/johnpolacek).
